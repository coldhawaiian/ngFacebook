angular.module("facebook",[]).provider("$facebook",function(){var a=!1,b=[];return{init:function(c){window.fbAsyncInit=function(){FB.init(c||{status:!0,xfbml:!0}),a=!0,angular.forEach(b,function(a){a()})},function(a,b,c){var d,e=a.getElementsByTagName(b)[0];a.getElementById(c)||(d=a.createElement(b),d.id=c,d.src="//connect.facebook.net/en_US/all.js",e.parentNode.insertBefore(d,e))}(document,"script","facebook-jssdk")},$get:["$rootScope","$q",function(c,d){function e(){angular.forEach(q,function(a,b){angular.forEach(a,function(a){f(b,a)})})}function f(a,b){FB.Event.subscribe(a+"."+b,function(d){c.$broadcast("facebook."+a+"."+b,d)})}function g(a,b,d){a(function(a){b(a)?c.$apply(function(){d.reject(a)}):c.$apply(function(){d.resolve(a)})})}function h(c,e){e=e||function(a){return a&&a.error};var f=d.defer();return a?g(c,e,f):b.push(function(){g(c,e,f)}),f.promise}function i(a,b,c){return h(function(c){a(b,c)},c)}function j(a,b){return h(a,b)}function k(a){return i(FB.api,a)}function l(a){return i(FB.ui,a)}function m(){return FB.getAuthResponse()}function n(){return j(FB.getLoginStatus)}function o(){return j(FB.login,function(a){return!a||!a.authResponse})}function p(){return j(FB.logout,function(){return!1})}var q={auth:["login","authResponseChange","statusChange","logout","prompt"],xfbml:["render"],edge:["create","remove"],comment:["create","remove"],message:["send"]};return e(),{getAuthResponse:m,getLoginStatus:n,login:o,logout:p,subscribe:e,api:k,ui:l}}]}});